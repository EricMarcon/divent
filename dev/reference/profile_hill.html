<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Diversity Profile of a Community — profile_hill • divent</title><!-- favicons --><link rel="icon" type="image/png" sizes="48x48" href="../favicon-48x48.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="../deps/MathJax-3.2.2/tex-chtml.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Diversity Profile of a Community — profile_hill"><meta name="description" content="Calculate the diversity profile of a community, i.e. diversity (Hill numbers)
against its order."><meta property="og:description" content="Calculate the diversity profile of a community, i.e. diversity (Hill numbers)
against its order."><meta property="og:image" content="https://ericmarcon.github.io/divent/logo.png"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">divent</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.4-99.9016</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/divent.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/arguments.html">Common Arguments of divent Functions</a></li>
    <li><a class="dropdown-item" href="../articles/extrapolation.html">Asymptotic Estimation, Interpolation and Extrapolation </a></li>
    <li><a class="dropdown-item" href="../articles/phylogenies.html">Phylogenies in divent</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/EricMarcon/divent/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Diversity Profile of a Community</h1>
      <small class="dont-index">Source: <a href="https://github.com/EricMarcon/divent/blob/master/R/profile_hill.R" class="external-link"><code>R/profile_hill.R</code></a></small>
      <div class="d-none name"><code>profile_hill.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculate the diversity profile of a community, i.e. diversity (Hill numbers)
against its order.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">profile_hill</span><span class="op">(</span><span class="va">x</span>, orders <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">0</span>, to <span class="op">=</span> <span class="fl">2</span>, by <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'numeric'</span></span>
<span><span class="fu">profile_hill</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  orders <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">0</span>, to <span class="op">=</span> <span class="fl">2</span>, by <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span>,</span>
<span>  estimator <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"UnveilJ"</span>, <span class="st">"ChaoJost"</span>, <span class="st">"ChaoShen"</span>, <span class="st">"GenCov"</span>, <span class="st">"Grassberger"</span>, <span class="st">"Holste"</span>,</span>
<span>    <span class="st">"Marcon"</span>, <span class="st">"UnveilC"</span>, <span class="st">"UnveiliC"</span>, <span class="st">"ZhangGrabchak"</span>, <span class="st">"naive"</span><span class="op">)</span>,</span>
<span>  level <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  probability_estimator <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Chao2015"</span>, <span class="st">"Chao2013"</span>, <span class="st">"ChaoShen"</span>, <span class="st">"naive"</span><span class="op">)</span>,</span>
<span>  unveiling <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"geometric"</span>, <span class="st">"uniform"</span>, <span class="st">"none"</span><span class="op">)</span>,</span>
<span>  richness_estimator <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"jackknife"</span>, <span class="st">"iChao1"</span>, <span class="st">"Chao1"</span>, <span class="st">"naive"</span><span class="op">)</span>,</span>
<span>  jack_alpha <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  jack_max <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  coverage_estimator <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ZhangHuang"</span>, <span class="st">"Chao"</span>, <span class="st">"Turing"</span>, <span class="st">"Good"</span><span class="op">)</span>,</span>
<span>  q_threshold <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  sample_coverage <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  as_numeric <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  n_simulations <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  bootstrap <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Chao2015"</span>, <span class="st">"Marcon2012"</span>, <span class="st">"Chao2013"</span><span class="op">)</span>,</span>
<span>  show_progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  check_arguments <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'species_distribution'</span></span>
<span><span class="fu">profile_hill</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  orders <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">0</span>, to <span class="op">=</span> <span class="fl">2</span>, by <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span>,</span>
<span>  estimator <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"UnveilJ"</span>, <span class="st">"ChaoJost"</span>, <span class="st">"ChaoShen"</span>, <span class="st">"GenCov"</span>, <span class="st">"Grassberger"</span>, <span class="st">"Holste"</span>,</span>
<span>    <span class="st">"Marcon"</span>, <span class="st">"UnveilC"</span>, <span class="st">"UnveiliC"</span>, <span class="st">"ZhangGrabchak"</span>, <span class="st">"naive"</span><span class="op">)</span>,</span>
<span>  level <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  probability_estimator <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Chao2015"</span>, <span class="st">"Chao2013"</span>, <span class="st">"ChaoShen"</span>, <span class="st">"naive"</span><span class="op">)</span>,</span>
<span>  unveiling <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"geometric"</span>, <span class="st">"uniform"</span>, <span class="st">"none"</span><span class="op">)</span>,</span>
<span>  richness_estimator <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"jackknife"</span>, <span class="st">"iChao1"</span>, <span class="st">"Chao1"</span>, <span class="st">"naive"</span><span class="op">)</span>,</span>
<span>  jack_alpha <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  jack_max <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  coverage_estimator <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ZhangHuang"</span>, <span class="st">"Chao"</span>, <span class="st">"Turing"</span>, <span class="st">"Good"</span><span class="op">)</span>,</span>
<span>  q_threshold <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  gamma <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  n_simulations <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  bootstrap <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Chao2015"</span>, <span class="st">"Marcon2012"</span>, <span class="st">"Chao2013"</span><span class="op">)</span>,</span>
<span>  show_progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  check_arguments <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An object, that may be a numeric vector containing abundances or probabilities,
or an object of class <a href="species_distribution.html">abundances</a> or <a href="probabilities.html">probabilities</a>.</p></dd>


<dt id="arg-orders">orders<a class="anchor" aria-label="anchor" href="#arg-orders"></a></dt>
<dd><p>The orders of diversity used to build the profile.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Unused.</p></dd>


<dt id="arg-estimator">estimator<a class="anchor" aria-label="anchor" href="#arg-estimator"></a></dt>
<dd><p>An estimator of entropy.</p></dd>


<dt id="arg-level">level<a class="anchor" aria-label="anchor" href="#arg-level"></a></dt>
<dd><p>the level of interpolation or extrapolation.
It may be a sample size (an integer) or a sample coverage
(a number between 0 and 1).
If not <code>NULL</code>, the asymptotic <code>estimator</code> is ignored.</p></dd>


<dt id="arg-probability-estimator">probability_estimator<a class="anchor" aria-label="anchor" href="#arg-probability-estimator"></a></dt>
<dd><p>a string containing one of the possible estimators
of the probability distribution (see <a href="probabilities.html">probabilities</a>).
Used only for extrapolation.</p></dd>


<dt id="arg-unveiling">unveiling<a class="anchor" aria-label="anchor" href="#arg-unveiling"></a></dt>
<dd><p>a string containing one of the possible unveiling methods
to estimate the probabilities of the unobserved species (see <a href="probabilities.html">probabilities</a>).
Used only for extrapolation.</p></dd>


<dt id="arg-richness-estimator">richness_estimator<a class="anchor" aria-label="anchor" href="#arg-richness-estimator"></a></dt>
<dd><p>an estimator of richness to evaluate the total number of species,
see <a href="div_richness.html">div_richness</a>. used for interpolation and extrapolation.</p></dd>


<dt id="arg-jack-alpha">jack_alpha<a class="anchor" aria-label="anchor" href="#arg-jack-alpha"></a></dt>
<dd><p>the risk level, 5% by default, used to optimize the jackknife order.</p></dd>


<dt id="arg-jack-max">jack_max<a class="anchor" aria-label="anchor" href="#arg-jack-max"></a></dt>
<dd><p>the highest jackknife order allowed. Default is 10.</p></dd>


<dt id="arg-coverage-estimator">coverage_estimator<a class="anchor" aria-label="anchor" href="#arg-coverage-estimator"></a></dt>
<dd><p>an estimator of sample coverage used by <a href="coverage.html">coverage</a>.</p></dd>


<dt id="arg-q-threshold">q_threshold<a class="anchor" aria-label="anchor" href="#arg-q-threshold"></a></dt>
<dd><p>the value of <code>q</code> above which diversity is computed
directly with the naive estimator \((sum{p_s^q}^{\frac{1}{(1-q)}}\),
without computing entropy.
When <code>q</code> is great, the exponential of entropy goes to \(0^{\frac{1}{(1-q)}}\),
causing rounding errors while the naive estimator of diversity is less and
less biased.</p></dd>


<dt id="arg-sample-coverage">sample_coverage<a class="anchor" aria-label="anchor" href="#arg-sample-coverage"></a></dt>
<dd><p>the sample coverage of <code>x</code> calculated elsewhere.
Used to calculate the gamma diversity of meta-communities, see details.</p></dd>


<dt id="arg-as-numeric">as_numeric<a class="anchor" aria-label="anchor" href="#arg-as-numeric"></a></dt>
<dd><p>if <code>TRUE</code>, a number or a numeric vector is returned rather than a tibble.</p></dd>


<dt id="arg-n-simulations">n_simulations<a class="anchor" aria-label="anchor" href="#arg-n-simulations"></a></dt>
<dd><p>The number of simulations used to estimate the confidence envelope of the profile.</p></dd>


<dt id="arg-alpha">alpha<a class="anchor" aria-label="anchor" href="#arg-alpha"></a></dt>
<dd><p>The risk level, 5% by default, of the confidence envelope of the profile.</p></dd>


<dt id="arg-bootstrap">bootstrap<a class="anchor" aria-label="anchor" href="#arg-bootstrap"></a></dt>
<dd><p>The method used to obtain the probabilities to generate
bootstrapped communities from observed abundances.
If "Marcon2012", the probabilities are simply the abundances divided by the total
number of individuals (Marcon et al. 2012)
.
If "Chao2013" or "Chao2015" (by default), a more sophisticated approach is used
(see <a href="species_distribution.html">as_probabilities</a>) following Chao et al. (2013)
 or
Chao and Jost (2015)
.</p></dd>


<dt id="arg-show-progress">show_progress<a class="anchor" aria-label="anchor" href="#arg-show-progress"></a></dt>
<dd><p>if TRUE, a progress bar is shown during long computations.</p></dd>


<dt id="arg-check-arguments">check_arguments<a class="anchor" aria-label="anchor" href="#arg-check-arguments"></a></dt>
<dd><p>if <code>TRUE</code>, the function arguments are verified.
Should be set to <code>FALSE</code> to save time when the arguments have been checked elsewhere.</p></dd>


<dt id="arg-gamma">gamma<a class="anchor" aria-label="anchor" href="#arg-gamma"></a></dt>
<dd><p>if <code>TRUE</code>, \(\gamma\) diversity, i.e. diversity of the metacommunity, is computed.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A tibble with the site names, the estimators used and the estimated diversity at each order.
This is an object of class "profile" that can be plotted.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>A bootstrap confidence interval can be produced by simulating communities
(their number is <code>n_simulations</code>) with <a href="rcommunity.html">rcommunity</a> and calculating their profiles.
Simulating communities implies a downward bias in the estimation:
rare species of the actual community may have abundance zero in simulated communities.
Simulated diversity values are recentered so that their mean is that of the actual community.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Chao A, Jost L (2015).
“Estimating Diversity and Entropy Profiles via Discovery Rates of New Species.”
<em>Methods in Ecology and Evolution</em>, <b>6</b>(8), 873–882.
<a href="https://doi.org/10.1111/2041-210X.12349" class="external-link">doi:10.1111/2041-210X.12349</a>
.<br><br> Chao A, Wang Y, Jost L (2013).
“Entropy and the Species Accumulation Curve: A Novel Entropy Estimator via Discovery Rates of New Species.”
<em>Methods in Ecology and Evolution</em>, <b>4</b>(11), 1091–1100.
<a href="https://doi.org/10.1111/2041-210x.12108" class="external-link">doi:10.1111/2041-210x.12108</a>
.<br><br> Marcon E, Hérault B, Baraloto C, Lang G (2012).
“The Decomposition of Shannon's Entropy and a Confidence Interval for <em>Beta</em> Diversity.”
<em>Oikos</em>, <b>121</b>(4), 516–522.
<a href="https://doi.org/10.1111/j.1600-0706.2011.19267.x" class="external-link">doi:10.1111/j.1600-0706.2011.19267.x</a>
.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html" class="external-link">autoplot</a></span><span class="op">(</span><span class="fu">profile_hill</span><span class="op">(</span><span class="va">paracou_6_abd</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="profile_hill-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Eric Marcon.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer></div>





  </body></html>

